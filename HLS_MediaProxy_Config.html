
<html>
<head>
	<script type="text/javascript" src="../mwEmbed/tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../mwEmbed/mwEmbedLoader.php"></script>
	<script type="text/javascript" src="../mwEmbed/docs/js/doc-bootstrap.js"></script>
</head>
<body>
	<h3>Stand Alone Player ( MediaProxy Override ) HLSJS only source</h3>

	<div id="kaltura_player" style="width:600px;height:338px;"></div>
	
	<script>
		var jsonConfig  = {
			"plugins":{
				"topBarContainer": {},
				"titleLabel": {}, 
				"controlBarContainer": {
					"hover": true
				},
				"largePlayBtn": {},
				"scrubber": {
					'thumbSlicesUrl': '{mediaProxy.entryMetadata.thumbSlicesUrl}'
				},
				"vast":{ 
					"trackCuePoints":"true",
					"timeout": 4
				},
				'skipBtn': {
					'label': 'Skip Ad'
				},
				'noticeMessage': {
					'text': 'Advertisment {sequenceProxy.timeRemaining|timeFormat}'
				},
				"playPauseBtn": {},
				"volumeControl": {},
				"fullScreenBtn": {},
				"durationLabel": {},
				"currentTimeLabel": {},
				"sourceSelector": {},
				"infoScreen": {},
				"share": {},
				'statistics': {'plugin': false},
			},
			"layout":{
				"skin": "kdark",
				"cssFiles":[]
			}
		};
		// per entry settings
		var mediaProxyKalturaToolKitVideo = {
				'entry':{
					'id': "key_1",
					'name': "My ToolKit Video",
					"description": "Kaltura Player toolkit Description.",
					"createdAt":1379965720,
					"thumbnailUrl": 'http://zutils.zedo.com/vastvalidator/assets/images/zedo.png'
				},

				"contextData":{
					'isCountryRestricted': false
				},
				'entryMetadata': {
					'thumbSlicesUrl': 'http://cdnbakmi.kaltura.com/p/243342/sp/24334200/thumbnail/entry_id/1_sf5ovm7u/version/100003/width/100/vid_slices/100',
					'AgeGroup': "16"
				},
				'sources':[
					 {
						"src":"http://ibnclive-lh.akamaihd.net/i/wfmz/ibnccnnhd1_1@361011/master.m3u8",
						"type":"application/vnd.apple.mpegurl"
					 }
				]
			}
		
		kWidget.embed('kaltura_player', {
			'wid' : '_243342',
			'uiconf_id': '34089361',
			'flashvars':{
				// per entity settings: 
				'mediaProxy': mediaProxyKalturaToolKitVideo,
				'LeadWithHLSOnFlash': true,
				'EmbedPlayer.UseDirectManifestLinks': true
			},
			// ready bindings:
			'readyCallback': function( playerId ){
				var kdp = document.getElementById( playerId );
				$('.alertEval a').click(function(){
					alert( JSON.stringify( kdp.evaluate( $(this).text() ) ) );
					return false;
				});
			}
		});
	</script>

	
</body>
</html>